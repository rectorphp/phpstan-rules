services:
    - Rector\RectorPHPStanRules\TypeAnalyzer\AllowedAutoloadedTypeAnalyzer
    - Rector\RectorPHPStanRules\TypeResolver\GetNameMethodCallTypeResolver

    # $nodeFinder->findInstanceOf()
    # $nodeFinder->findFirstInstanceOf()
    -
        class: Rector\RectorPHPStanRules\ReturnTypeExtension\FindInstanceOfReturnTypeExtension
        tags: [phpstan.broker.dynamicMethodReturnTypeExtension]

    # $node->getAttribute($1) => Type|null by $1
    -
        class: Rector\RectorPHPStanRules\ReturnTypeExtension\GetAttributeReturnTypeExtension
        tags: [phpstan.broker.dynamicMethodReturnTypeExtension]

    # $nameResolver->getName() => in some cases always string
    -
        class: Rector\RectorPHPStanRules\ReturnTypeExtension\NameResolverReturnTypeExtension
        tags: [phpstan.broker.dynamicMethodReturnTypeExtension]

    # $rector->getName() => in some cases always string
    -
        class: Rector\RectorPHPStanRules\ReturnTypeExtension\NameResolverReturnTypeAbstractRectorExtension
        tags: [phpstan.broker.dynamicMethodReturnTypeExtension]
